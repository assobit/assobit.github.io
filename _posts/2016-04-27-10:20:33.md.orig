---
layout: post
title: I Registri Condivisi o "Shared Ledgers"
bgimg: /img/post-bg.jpg
membro: Gabriele Domenichini
ruolo: Membro AssoB.it
---
Cominciamo una serie di articoli che spiegano in termini semplici le novità
in campo finanziario che stanno appassionando governi e banche di tutto il mondo.

<!-- more -->
## Il concetto

<<<<<<< HEAD
I registri condivisi contengono il chi ha che cosa tra due persone o
=======
I registri condivisi contengono il "chi ha che cosa" tra due persone o
>>>>>>> b47d77dcf9da27877c96f8a807d70455f0408c79
organizzazioni e documentano i cambiamenti nel tempo di questa situazione.
Sono scritti da e sotto la responsabilità di più operatori.

## Come funziona
Un esempio spiega meglio la cosa e le sue conseguenze.

<<<<<<< HEAD
Alice ha una mela e Bob ha un euro. Quando se li scambiano oggi Alice scrive
che ha dato una mela a Bob e ha ricevuto da questo un euro.
Bob scrive che ha dato un euro ad Alice e che ha ricevuto da questa una mela.

Periodicamente si incontrano e mettono a confronto le loro scritture e
controllano che tutte le transazioni coincidano cioè che tutte le mele date da
Alice sul suo registro siano documentate come ricevute dal
registro di Bob e che tutti gli euro che Bob ha scritto come pagati ad Alice
sul suo registro compaiano sul registro di Alice come incassati.

Questo processo è detto **riconciliazione.**
=======
Alice ha una mela e Bob ha un euro. Nella situazione attuale ognuno ha un
suo registro dove registra cosa succede alle mele e ai soldi.
Quando se li scambiano Alice scrive nel suo registro che ha dato una mela
a Bob e ha ricevuto da questo un euro.
Bob scrive  nel suo registro che ha dato un euro ad Alice e che ha ricevuto
da questa una mela.

Periodicamente Alice e Bob si incontrano e mettono a confronto le loro scritture
e controllano che tutte le transazioni coincidano cioè che tutte le mele date da
Alice sul suo registro siano documentate come ricevute dal
registro di Bob e che tutti gli euro che Bob ha scritto come pagati ad Alice
sul suo registro compaiano sul registro di Alice come incassati. Le
registrazioni in questi casi appaiono speculari l'una guardata su un registro
"riflette" le scritture dell'altra.

Questo processo di controllo incrociato delle scritture è detto
**riconciliazione.**
>>>>>>> b47d77dcf9da27877c96f8a807d70455f0408c79

### La Riconciliazione
La riconciliazione tra due registri è molto semplice ma si complica molto

* Se non ci sono solo compravendite ma altri tipi di contratti
* Se ci sono molti operatori interessati alla transazione
<<<<<<< HEAD

Può esistere un mercato delle mele in cui molti operatori si scambiano mele e
che tenga il registro globale delle transazioni. In questo caso i registri da
=======
* si vogliono registrare su uno stesso registro transazioni di più soggetti

Può esistere un mercato delle mele in cui molti operatori si scambiano mele e
le autorità che regolano questo mercato possono voler tenere il registro
globale delle transazioni. In questo caso i registri da
>>>>>>> b47d77dcf9da27877c96f8a807d70455f0408c79
riconciliare sono tre: il registro del venditore, del compratore e
quello globale del mercato.

Nei mercati finanziari moderni esistono molti attori interessati a vario titolo
alla transazione e tutti devono riconciliare tutte le transazioni finanziarie
nei propri registri con ciò che è scritto in quello degli negli altri.

A questo immenso numero di scritture e controlli si deve il fatto che una
compravendita di titoli sul mercato finanziario americano sia considerata
avvenuta dopo tre giorni lavorativi:
E' il tempo in cui il "sistema" certifica che il titolo è stato consegnato
al compratore, "Settlement", e che il denaro è giunto al venditore "clearing".

I registri condivisi sono registri in cui alcuni operatori possono scrivere
seguendo alcune regole e quanto scritto rappresenta all'istante legge per
tutti coloro che si rifanno a questo registro.

Se gli operatori rinunciano ad avere un proprio registro devono poter usare il
registro condiviso per la propria contabilità e quindi avere il pieno accesso
alle transazioni che li coinvolgono.

## Il ruolo della fiducia

Gli operatori devono avere completa fiducia in quanto viene scritto sul
registro e nel fatto che le regole siano seguite.

Per facilitare la comprensione definiamo chi si incarica della corretta
tenuta delle scritture il **Funzionario**.

### Il Funzionario

Può fare alcune cose per accrescere la confidenza nel sistema necessaria a
ridurre i tempi e i costi dei controlli ed il numero delle dispute:

### Il Funzionario dà accesso in lettura al registro condiviso

Se chi tiene il registro si incarica della corretta scrittura di questo
le parti devono essere sicure che la scrittura rifletta correttamente gli
accordi tra di loro ma almeno possono controllare a posteriori. In questo caso,
rinunciare a tenere un proprio registro delle transazioni sarebbe
sconsigliabile per le parti perchè ci si dovrebbe fidare che il Funzionario
ha trasformato sempre correttamente la volontà delle parti in scritture.

### Il Funzionario può dare accesso in scrittura al registro alle parti

Se la scrittura da parte degli opperatori:

* E' inoppugnabile cioè non è possibile dichiarare che la scrittura non sia avvenuta
* E' irripudiabile cioè è sempre possibile associare la scrittura alla volontà della
parte
* E' irreversibile cioè non è modificabile se non con un'altra scrittura
* E' immutabile cioè le scritture nel tempo non potranno cambiare senza che le
parti se ne accorgano

allora il Fumnzionario si disfa di ingombranti responsabilità e si limita a
certificare che le operazioni matematiche che portano al saldo sono fatte bene
e a tenere la manutenzione del registro nel suo funzionamento.

L'implicazione maggiore è che le parti possono rinunciare a tenere la popria
contabilità per le transazioni di questo tipo perché la propria contabilità
coincide con quella del mercato per quanto concerne le transazioni che la
riguardano.

### I Funzionari multipli
Il problema di colui che tiene il registro è che deve garantire, le parti della,
corretta tenuta contabile dei registri, lo stato per i prelievi fiscali legate
alle transazioni, le autorità di controllo per l'antiriciclaggio e se questi
enti interessati a vario titolo alla transazione sono in giurisdizioni
diverse la cosa si complica un bel pò.

A seconda dei casi l'autorità potrebbe volere un controllo a posteriori
di quanto è avvenuto oppure un diritto di veto sulla
transazione. Questo richiede nel primo caso un diritto di lettura sul registro
e nel secondo un diritto di co-firma nella scrittura della transazione sul
registro.
Anche l'Autorità che tiene il registro potrebbe volere la co-firma delle
transazioni per accertarsi che le transazioni abbiano tutti i requisiti non
controllabilivia software.

Infine gli operatori del mercato potrebbero essere molto restii ad affidare
i propri conti ad un unico ente e potrebbero scegliere che **le stesse regole**
siano controllate e co-firmate da più Autorità.

Per questa ragione i progetti di Shared Ledger oggi prevedono diversi "funzionari"
che co-firmano tutti o alcuni tipi di operazioni che avvengono sul registro
condiviso.

## Gli Shared Ledger, le Blockchains e il Bitcoin

Il modo in cui i dati delle scritture può essere scritto può variare a seconda
delle esigenze.

### Le blockchains
Nel caso delle Blockchain le transazioni sono raggruppate in blocchi.

Si può quindi dire che le blockchains sono tipi di registri condivisi in cui
le transazioni sono raggruppate in blocchi.

In una blockchain ogni transazione è costituita da due scripts (mini programmi).
Il primo programma permette di "liberare" tutti gli assets "vincolati" in questo
fornendo alcune istruzioni (normalmente riservate) la seconda parte determina
le istruzioni per la successiva "liberazione". E' possibile svincolare diversi
ammontari di assets prendendo e da diverse transazioni e fornendo le istruzioni
necessarie a ciascuna e si possono dettare condizioni multiple per il totale
degli assets liberati.

Le transazioni i cui assets sono già stati liberati sono dette spese e quelle
con gli assets bloccati sono dette non spese.

E' sempre possibile fare il calcolo totale degli asset contando quelli
all'interno delle transazioni non spese (Unspent Transaction Outputs UTXO).

### Il bitcoin

Il bitcoin è un asset che è contabilizzato su una blockchain particolare che
non ha bisogno della fiducia in una terza parte particolare in quanto ogni
attore è incentivato al corretto funzionamento del sistema in cui non è
possibile fare scritture scorrette grazie ai controlli software che ogni
operatore esegue su ogni transazione.
